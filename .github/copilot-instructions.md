# Copilot Instructions
## Repository Purpose & Layout
- This repository packages the refinery-petrochemical planning benchmark from the arXiv study, providing data and models for large-scale MINLP experiments in GAMS.
- `case1/`, `case2/`, and `case3/` contain solver-ready artifacts: autogenerated `.gms` models, `.gdx` inputs, human-readable `all_sets.txt` / `all_parameters.txt`, and GDXXRW `.yaml` export jobs.
- `arXiv-2503.22057v1/` mirrors the manuscript; consult `RPBM.tex` (Case Studies section) when you need scenario assumptions, naming conventions, or solver performance baselines.
- The port-stream hybrid superstructure is encoded via canonical sets (`S`, `U`, `Q`, `SQ`, etc.) defined in each `all_sets.txt`; keep these synchronized with the corresponding `.gdx` files.
## Case Differences & Data Files
- Case 1 is a single-period refinery-only NLP (3573 variables, no binaries) with two CDUs feeding 25 secondary units and 24 products (see `RPBM.tex` §Case Studies).
- Case 2 expands to an integrated refinery-chemical site with inventories; 56 binaries track stock decisions across 51 secondary units.
- Case 3 extends Case 2 across three periods (`T = {1,2,3}`), increasing binaries to 168; per-period bounds live in `all_parameters.txt`.
- `all_sets.txt` and `all_parameters.txt` follow GAMS slash-delimited sections; edit carefully and rebuild `.gdx` via GAMS tools to avoid corrupting parameter blocks.
- `.gdx` assets (`all_sets.gdx`, `all_parameters.gdx`) feed the models; `solution_baron.gdx` (all cases) and `solution_antigone.gdx` (case1) store reference solutions.
- GDXXRW descriptors (`all_sets_export.yaml`, `all_parameters_export.yaml`) drive Excel exports; update the `file:` targets if the repository moves locations.
## Solver Workflow & Validation
- Run scenarios with GAMS 45.5+; e.g. `gams case2.gms lo=3 solver=baron` reproduces BARON results.
- ANTIGONE matches Case 1 but fails to find feasible points for Cases 2/3 (see `RPBM.tex` Table~3); prefer BARON or other global solvers for those instances.
- The objective variable appears at the end of the variable list (`x3573` in Case 1); verify profits in the `.lst` output or via `gdxdump solution_baron.gdx`.
- After parameter tweaks, rerun the GDXXRW export described in the YAML files (GAMS Studio → Data Utilities → GDXXRW) so spreadsheet views stay consistent with the `.gdx` data.
- Use `gdxdump` or `gdx2sqlite` for diff-friendly snapshots when validating changes to `.gdx` inputs or solver outputs.
- Avoid committing solver `.lst` logs; they are large and environment-specific—capture essential metrics in README updates instead.
## Contribution Tips
- Prefer editing the textual definitions (`all_sets.txt`, `all_parameters.txt`) and regenerating `.gdx` with GAMS utilities; direct binary edits are error-prone.
- `case*/case*.gms` files are produced by GAMS Convert; regenerate rather than hand-edit when upstream data changes.
- To add a new benchmark, clone an existing case folder, adjust sets/parameters/solutions, and document the scenario deltas in `README.md` and `RPBM.tex`.
- The LaTeX sources rely on Elsevier's `elsarticle` class; compile with `pdflatex` → `bibtex` → `pdflatex` ×2 and keep nomenclature macros intact.
- Replace hard-coded Windows paths in the YAML exporters with relative paths before committing for cross-platform portability.

Always respond in Chinese-simplified
Always respond in 简体中文

